javascript:(function()%7Bfunction%20dl(filename%2C%20text)%20%7Bvar%20elmi%20%3D%20document.createElement('a')%3Belmi.setAttribute('href'%2C%20'data%3Atext%2Fplain%3Bcharset%3Dutf-8%2C'%20%2B%20encodeURIComponent(text))%3Belmi.setAttribute('download'%2C%20filename)%3Belmi.style.display%20%3D%20'none'%3Bdocument.body.appendChild(elmi)%3Belmi.click()%3Bdocument.body.removeChild(elmi)%3B%7Dfunction%20unq(arrgh)%20%7Breturn%20arrgh.filter((elm%2C%20pos%2C%20arr)%20%3D%3E%20%7Breturn%20arr.indexOf(elm)%20%3D%3D%20pos%3B%7D)%3B%7Dfunction%20cleanup(elm)%20%7Breturn%20elm.replace(%2F%2C%7C%5C%3F%7C%5C%23%2Fg%2C%20'').replace(%2F%26%2Fg%2C%20'and').replace(%2F%5Cn%7C%5Cr%2Fg%2C%20'%20_%20')%3B%7Dfunction%20splitName(str)%20%7Bvar%20first%20%3D%20group(%2F(.%2B%3F)%2C%5Cs(%5CS%2B)%2F.exec(str)%2C%202)%3Bvar%20last%20%3D%20group(%2F(.%2B%3F)%2C%5Cs(%5CS%2B)%2F.exec(str)%2C%201)%3Breturn%20new%20Array(first%2C%20last)%3B%7Dfunction%20group(el%2C%20n)%20%7Bif%20(el%20!%3D%20null)%20%7Breturn%20el%5Bn%5D.toString()%3B%7D%20else%20%7Breturn%20''%3B%7D%7Dfunction%20validate(elm%2C%20n%2C%20type)%20%7Bif%20(elm%5Bn%5D%20!%3D%20null)%20%7Bif%20(type%20%3D%3D%20%22text%22)%20%7Breturn%20elm%5Bn%5D.innerText%3B%7Dif%20(type%20%3D%3D%20%22href%22)%20%7Breturn%20elm%5Bn%5D.href%3B%7D%7D%20else%20%7Breturn%20''%3B%7D%7Dvar%20containArr%20%3D%20%5B%5D%3Bvar%20numberOfPages%20%3D%20parseInt(%2F%5Cd%2B%24%2F.exec(document.getElementsByClassName(%22pagination__inner%22)%5B0%5D.innerText)%5B0%5D)%3Bfunction%20getDataFromHTML(currentPage)%20%7Bvar%20leads%20%3D%20document.getElementsByClassName(%22profile-block%20vcard%22)%3Bfor%20(i%20%3D%200%3B%20i%20%3C%20leads.length%3B%20i%2B%2B)%20%7Bvar%20fullname%20%3D%20leads%5Bi%5D.getElementsByClassName(%22profile-block__name%22)%5B0%5D.innerText%3Bvar%20firstname%20%3D%20splitName(fullname)%5B0%5D%3Bvar%20lastname%20%3D%20splitName(fullname)%5B1%5D%3Bvar%20title%20%3D%20cleanup(validate(leads%5Bi%5D.getElementsByClassName(%22profile-block__group-title%22)%2C%200%2C%20%22text%22))%3Bvar%20city%20%3D%20cleanup(validate(leads%5Bi%5D.getElementsByClassName(%22profile-block__area%22)%2C%200%2C%20%22text%22))%3Bvar%20phone%20%3D%20cleanup(validate(leads%5Bi%5D.getElementsByClassName(%22numbers-wrapper__numbers%22)%2C%200%2C%20%22text%22).replace(%2F%5C%2B1%2F%2C%20'').replace(%2F%5CD%2B%2Fg%2C%20''))%3Bvar%20email%20%3D%20cleanup(validate(leads%5Bi%5D.getElementsByClassName(%22icon-link%20email%22)%2C%200%2C%20%22href%22).replace(%2Fmailto%3A%2F%2C%20''))%3BcontainArr.push(new%20Array(firstname%2C%20lastname%2C%20title%2C%20city%2C%20phone%2C%20email)%20%2B%20'%5Cr')%7Dif%20(currentPage%20%3D%3D%20(numberOfPages%20-%201))%20%7Bvar%20output%20%3D%20'first_name%2Clast_name%2Ctitle%2Ccity%2Cphone%2Cemail%5Cr'%20%2B%20unq(containArr).toString()%3Bdl(%22CBRE_list.csv%22%2C%20output)%3B%7D%7Dfunction%20pager()%20%7Bvar%20pagination%20%3D%20document.getElementsByClassName(%22pagination__arrow%22)%3Bif%20(pagination.length%20%3D%3D%201)%20%7Bpagination%5B0%5D.click()%3B%7D%20else%20%7Bfor%20(p%20%3D%200%3B%20p%20%3C%20pagination.length%3B%20p%2B%2B)%20%7Bvar%20pageType%20%3D%20%2FpageUp%2F.test(pagination%5Bp%5D.href)%3Bif%20(pageType%20%3D%3D%3D%20true)%20%7Bpagination%5Bp%5D.click()%3B%7D%7D%7D%7Dfor%20(c%20%3D%200%3B%20c%20%3C%20numberOfPages%3B%20c%2B%2B)%20%7Bvar%20scrapePage%20%3D%20new%20Promise(resolve%20%3D%3E%20%7Bresolve(getDataFromHTML(c))%3B%7D)%3BscrapePage.then(pager())%3B%7D%7D)()
